<?xml version="1.0"?>
<!DOCTYPE mapping PUBLIC "-//EXOLAB/Castor Mapping DTD Version 1.0//EN" 
    "http://castor.org/mapping.dtd">
<mapping>
    
    <class name="ctf.jdo.tc7x.TestManyGroup" access="shared" identity="id" >
        <description>Table used for testing many to many relation</description>
        <map-to table="test_many_group" />
        <field name="id" type="integer">
            <sql name="gid" type="integer" />
        </field>
        <field name="value1" type="string" required="true">
            <sql name="value1" type="varchar" />
        </field>
        <field name="people" type="ctf.jdo.tc7x.TestManyPerson" 
            collection="collection" required="false" set-method="setPeople" 
            get-method="getPeople">
            <sql many-table="test_group_person"/>
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestManyPerson" access="shared" identity="id" >
        <description>Table used for testing many to many relation</description>
        <map-to table="test_many_person" />
        <field name="id" type="integer">
            <sql name="pid" type="integer" />
        </field>
        <field name="value1" type="string" required="true">
            <sql name="value1" type="varchar" />
        </field>
        <field name="helloworld" type="string" >
            <sql name="helloworld" type="varchar" />
        </field>
        <field name="sthelse" type="string" >
            <sql name="sthelse" type="varchar" />
        </field>
        <field name="group" type="ctf.jdo.tc7x.TestManyGroup" 
            collection="collection" required="false">
            <sql many-table="test_group_person"/>
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestManyGroupKeyGen" access="shared" 
        identity="id" key-generator="MAX">
        <description>Table used for testing many to many relation</description>
        <cache-type type="count-limited" capacity="30"/>
        <map-to table="test_many_group" />
        <field name="id" type="integer">
            <sql name="gid" type="integer" />
        </field>
        <field name="value1" type="string" required="true">
            <sql name="value1" type="varchar" />
        </field>
        <field name="people" type="ctf.jdo.tc7x.TestManyPersonKeyGen" 
            collection="collection" required="false" >
            <sql many-table="test_group_person"/>
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestManyPersonKeyGen" access="shared" 
        identity="id" key-generator="MAX">
        <description>Table used for testing many to many relation</description>
        <cache-type type="count-limited" capacity="30"/>
        <map-to table="test_many_person" />
        <field name="id" type="integer">
            <sql name="pid" type="integer" />
        </field>
        <field name="value1" type="string" required="true">
            <sql name="value1" type="varchar" />
        </field>
        <field name="helloworld" type="string" >
            <sql name="helloworld" type="varchar" />
        </field>
        <field name="sthelse" type="string" >
            <sql name="sthelse" type="varchar" />
        </field>
        <field name="group" type="ctf.jdo.tc7x.TestManyGroupKeyGen" 
            collection="collection" required="false">
            <sql many-table="test_group_person"/>
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestLimit" access="shared" identity="id">
        <description>Table used for concurrency and performance 
            testing</description>
        <map-to table="test_table" />
        <field name="id" type="integer">
            <sql name="id" type="integer" />
        </field>
        <field name="value1" type="string" required="true">
            <sql name="value1" type="varchar"/>
        </field>
        <field name="value2" type="string">
            <sql name="value2" type="varchar" dirty="ignore"/>
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestCol" identity="id">
        <description>Table used for testing different collection types 
            support</description>
        <cache-type type="none" />
        <map-to table="test_col" />
        <field name="id" type="integer">
            <sql name="id" type="integer" />
        </field>
        <!--
    <field name="dummy" type="integer" >
      <sql name="dum" type="integer" />
    </fild> -->
    </class>
    
    <class name="ctf.jdo.tc7x.TestItem" identity="id">
        <description>Table used for testing different collection types 
            support</description>
        <cache-type type="none" />
        <map-to table="test_item" />
        <field name="id" type="integer">
            <sql name="iid" type="integer" />
        </field>
        <field name="testCol" type="ctf.jdo.tc7x.TestCol" >
            <sql name="id" />
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestComparableItem" identity="id">
        <description>Table used for testing SortedSet collection type 
            support</description>
        <cache-type type="none" />
        <map-to table="test_comp_item" />
        <field name="id" type="integer">
            <sql name="iid" type="integer" />
        </field>
        <field name="testCol" type="ctf.jdo.tc7x.TestCol" >
            <sql name="id" />
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColArrayList" extends="ctf.jdo.tc7x.TestCol">
        <description>Table used for testing different collection types 
            support</description>
        <!-- this is a dirty hack, don't follows. It only work if load always
         done by db.load( MyClass.class, id ). -->
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestItem" collection="arraylist">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColAdd" extends="ctf.jdo.tc7x.TestCol">
        <description>Modification of TestCollArrayList to test manual 
            addThing()</description>
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestItem" collection="arraylist" 
            get-method="getItems" set-method="addItem">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColArray" extends="ctf.jdo.tc7x.TestCol">
        <description>Table used for testing different collection types 
            support</description>
        <!-- this is a dirty hack, don't follows. It only work if load always
         done by db.load( MyClass.class, id ). -->
        <map-to table="test_col" />
        <field name="items" type="ctf.jdo.tc7x.TestItem" collection="array">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColCollection" extends="ctf.jdo.tc7x.TestCol">
        <description>Table used for testing different collection types 
            support</description>
        <!-- this is a dirty hack, don't follows. It only work if load always
         done by db.load( MyClass.class, id ). -->
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestItem" collection="collection">
        </field>
    </class>
    
    <!--
  <class name="ctf.jdo.tc7x.TestColHashMap" extends="ctf.jdo.tc7x.TestCol">
    <description>Table used for testing different collection types support</description>
    <map-to table="test_col" />
    <field name="item" type="ctf.jdo.tc7x.TestItem" collection="hashmap">
    </field>
  </class>

  <class name="ctf.jdo.tc7x.TestColHashSet" extends="ctf.jdo.tc7x.TestCol">
    <description>Table used for testing different collection types support</description>
    <map-to table="test_col" />
    <field name="item" type="ctf.jdo.tc7x.TestItem" collection="hashset">
    </field>
  </class>
  -->
    
    <class name="ctf.jdo.tc7x.TestColHashtable" extends="ctf.jdo.tc7x.TestCol">
        <description>Table used for testing different collection types 
            support</description>
        <!-- this is a dirty hack, don't follows. It only work if load always 
         done by db.load( MyClass.class, id ). -->
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestItem" collection="hashtable">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColMap" extends="ctf.jdo.tc7x.TestCol">
        <description>Table used for testing different collection types 
            support</description>
        <!-- this is a dirty hack, don't follows. It only work if load always 
         done by db.load( MyClass.class, id ). -->
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestItem" collection="map">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColSet" extends="ctf.jdo.tc7x.TestCol">
        <description>Table used for testing different collection types 
            support</description>
        <!-- this is a dirty hack, don't follows. It only work if load always 
         done by db.load( MyClass.class, id ). -->
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestItem" collection="set">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColSortedSet" extends="ctf.jdo.tc7x.TestCol">
        <description>Table used for testing different collection types 
            support</description>
        <!-- this is a dirty hack, don't follows. It only work if load always 
         done by db.load( MyClass.class, id ). -->
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestComparableItem" 
            collection="sortedset">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColVector" extends="ctf.jdo.tc7x.TestCol">
        <description>Table used for testing different collection types 
            support</description>
        <!-- this is a dirty hack, don't follows. It only work if load always 
         done by db.load( MyClass.class, id ). -->
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestItem" collection="vector">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColIterator" extends="ctf.jdo.tc7x.TestCol">
        <description>Class used for testing collection type 
            'iterator'</description>
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestItem" collection="iterator">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.TestColEnumeration" 
        extends="ctf.jdo.tc7x.TestCol">
        <description>Class used for testing collection type 
            'enumerate'</description>
        <map-to table="test_col" />
        <field name="item" type="ctf.jdo.tc7x.TestItem" collection="enumerate">
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.Master" key-generator="MAX" identity="id">
        <map-to table="master" />
        <field name="depend1" type="ctf.jdo.tc7x.Depend1">
            <sql name="depend1_id" />
            <bind-xml name="depend1" />
        </field>
        <field name="id" type="integer">
            <sql name="id" />
            <bind-xml name="id" />
        </field>
        <field name="depends2" collection="arraylist" 
            type="ctf.jdo.tc7x.Depend2">
            <sql many-key="master_id" />
            <bind-xml name="depends2" />
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.Depend2" key-generator="MAX" 
        depends="ctf.jdo.tc7x.Master" identity="id">
        <map-to table="depend2" />
        <field name="master" type="ctf.jdo.tc7x.Master">
            <sql name="master_id" />
            <bind-xml name="master" />
        </field>
        <field name="id" type="integer">
            <sql name="id" />
            <bind-xml name="id" />
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.Depend1" key-generator="MAX" 
        depends="ctf.jdo.tc7x.Master" identity="id">
        <map-to table="depend1" />
        <field name="id" type="integer">
            <sql name="id" />
            <bind-xml name="id" />
        </field>
    </class>
    
    <!-- TC129 -->
    <class identity="id" name="ctf.jdo.tc7x.Container">
        <map-to table="container"/>
        <field name="id" type="integer">
            <sql name="id" type="integer"/>
        </field>
        <field name="prop" type="ctf.jdo.tc7x.ContainerItem" 
            collection="arraylist">
            <sql many-key="item" />
        </field>
        <field name="name" type="string">
            <sql name="name" type="varchar"/>
        </field>
    </class>
    
    <class identity="id" name="ctf.jdo.tc7x.ContainerItem">
        <map-to table="container_item"/>
        <field name="id" type="integer">
            <sql name="id" type="integer"/>
        </field>
        <field name="item" type="ctf.jdo.tc7x.Container">
            <sql name="item"/>
        </field>
        <field name="value" type="string">
            <sql name="value" type="varchar"/>
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.SortedContainer" identity="id">
        <map-to table="sorted_container" />
        <field name="id" type="integer" >
            <sql name="id" type="integer"/>
        </field>
        <field name="name" type="string">
            <sql name="name" type="char" />
        </field>
        <field name="twos" type="ctf.jdo.tc7x.SortedContainerItem" 
            collection="sortedset" comparator="ctf.jdo.tc7x.CustomComparator">
            <sql many-key="id_1" />
        </field>
    </class>
    
    <class name="ctf.jdo.tc7x.SortedContainerItem" identity="id">
        <map-to table="sorted_item" />
        <field name="id" type="integer" >
            <sql name="id" type="integer"/>
        </field>
        <field name="id1" type="integer" >
            <sql name="id_1" type="integer"/>
        </field>
        <field name="name" type="string">
            <sql name="name" type="char" />
        </field>
    </class>
    
</mapping>