<!DOCTYPE mapping PUBLIC "-//EXOLAB/Castor Mapping DTD Version 1.0//EN"
                           "http://castor.org/mapping.dtd">
<mapping>
  <class name="ctf.jdo.tc1x.TimeStampableObject" access="shared" identity="id">
    <description>Table used for concurrency and performance testing</description>
    <map-to table="tc1x_sample" />
    <field name="id" type="integer">
      <sql name="id" type="integer" />
    </field>
    <field name="value1" type="string" required="true">
      <sql name="value1" type="varchar"/>
    </field>
    <field name="value2" type="string">
      <sql name="value2" type="varchar"/>
    </field>
  </class>
  
  <class name="ctf.jdo.tc1x.PersistentObject" access="shared" identity="id">
    <description>Test Persistent interface handling</description>
    <map-to table="tc1x_persist" />
    <field name="id" type="integer">
      <sql name="id" type="integer"/>
    </field>
    <field name="creationTime" type="java.util.Date" required="true">
      <sql name="ctime" type="date" />
    </field>
    <field name="modificationTime" type="java.util.Date" required="false">
      <sql name="mtime" type="date" dirty="ignore" />
    </field>
    <field name="value1" type="string"  required="true">
      <sql name="value1" type="varchar" />
    </field>
    <field name="parentId" type="integer" required="false">
      <sql name="parent_id" type="integer" dirty="ignore" />
    </field>
    <field name="group" type="ctf.jdo.tc1x.PersistentGroup" required="true">
      <sql name="group_id" />
    </field>
    <field name="related" type="ctf.jdo.tc1x.PersistentRelated" required="false">
      <sql many-key="persist_id" />
    </field>
  </class>

  <class name="ctf.jdo.tc1x.PersistentGroup" access="shared" identity="id">
    <description>Test Persistent interface handling</description>
    <map-to table="tc1x_group" />
    <field name="id" type="integer">
      <sql name="id" type="numeric" />
    </field>
    <field name="value1" type="string"  required="true">
      <sql name="value1" type="varchar" />
    </field>
  </class>

  <class name="ctf.jdo.tc1x.PersistentRelated" access="shared" identity="id" key-generator="MAX">
    <description>Test Persistent interface handling</description>
    <map-to table="tc1x_related" />
    <field name="id" type="integer">
      <sql name="id" type="integer"/>
    </field>
    <field name="persistent" type="ctf.jdo.tc1x.PersistentObject"  required="true">
      <sql name="persist_id" />
    </field>
  </class>

  <class name="ctf.jdo.tc1x.RollbackObject" access="shared" identity="id">
    <description>primitive rollback testing</description>
    <map-to table="tc1x_rollback" />
    <field name="id" type="long">
      <sql name="id" type="numeric" />
    </field>
    <field name="value1" type="string" required="true">
      <sql name="value1" type="varchar"/>
    </field>
    <field name="value2" type="string">
      <sql name="value2" type="varchar" dirty="ignore"/>
    </field>
    <field name="number" type="long">
      <sql name="numb" type="numeric" />
    </field>
  </class>
</mapping>
